<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>List</title>
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.min.css'></link>  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>

    <div class="container">
        <div class="row justify-content-center mt-5">
            <div class="col-8">
                <div class="mb-3">
                    <label for="nameInp" class="form-label">Product name</label>
                    <input type="text" class="form-control" id="nameInp">
                </div> 
                <div class="mb-3">
                    <label for="price" class="form-label">Price</label>
                    <input type="text" class="form-control" id="price">
                </div>
                <div class="mb-3">
                    <label for="img" class="form-label">Product img</label>
                    <input type="text" class="form-control" id="img">
                </div>
                <div class="mb-3">
                    <label for="hoverImg" class="form-label">Hover Img</label>
                    <input type="text" class="form-control" id="hoverImg">
                </div>
                <div class="mb-3">
                    <label for="type" class="form-label">Type</label>
                    <input type="text" class="form-control" id="type">
                </div>

                <div class="d-flex">
                    <div class="mb-3 mx-5">
                        <button class="btn btn-primary" id="insert">Insert</button>
                    </div>
                    <div class="mb-3 mx-5">
                        <button class="btn btn-success" id="edit">Edit</button>
                    </div>
                    <div class="mb-3 mx-5">
                        <button class="btn btn-danger" id="delete">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="container">
        <div class="row justify-content-center mt-5">
            <div class="col-8">
                <h3>Best Selling Products</h3>
                <div class="mb-3">
                    <label for="namebest" class="form-label">Product name</label>
                    <input type="text" class="form-control" id="namebest">
                </div> 
                <div class="mb-3">
                    <label for="pricebest" class="form-label">Price</label>
                    <input type="text" class="form-control" id="pricebest">
                </div>
                <div class="mb-3">
                    <label for="imgbest" class="form-label">Product img</label>
                    <input type="text" class="form-control" id="imgbest">
                </div>
                
                <div class="mb-3">
                    <label for="typebest" class="form-label">Type</label>
                    <input type="text" class="form-control" id="typebest">
                </div>

                <div class="d-flex">
                    <div class="mb-3 mx-5">
                        <button class="btn btn-success" id="addtobest">Add To Best</button>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" 
    integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" 
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" 
    integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" 
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
    integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" 
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
    integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>



    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
       

        const firebaseConfig = {
            apiKey: "AIzaSyDvvcPBxhcpvXgCcfNrimAWN0c7n5h2-zc",
            authDomain: "elements-a60e8.firebaseapp.com",
            databaseURL: "https://elements-a60e8-default-rtdb.firebaseio.com",
            projectId: "elements-a60e8",
            storageBucket: "elements-a60e8.appspot.com",
            messagingSenderId: "782506063379",
            appId: "1:782506063379:web:4e5eec3345a5e15461b1e6"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);


        import { getDatabase, set, ref, update, remove, get, child } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";
        const db = getDatabase();

        const name = document.getElementById("nameInp");
        const price = document.getElementById("price");
        const img = document.getElementById("img");
        const hoverImg = document.getElementById("hoverImg");
        const type = document.getElementById("type");

        const tbody = document.getElementById("tbody");

        const insertBtn = document.getElementById("insert");
        const editBtn = document.getElementById("edit");
        const deleteBtn = document.getElementById("delete");


        // let id = generate_uuidv4()
        // function generate_uuidv4() {
        //     return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,
        //         function (c) {
        //             var uuid = Math.random() * 16 | 0, v = c == 'x' ? uuid : (uuid & 0x3 | 0x8);
        //             return uuid.toString(16); 
        //         });
        // }

        // function Insert() {
        //     set(ref(db, "shop/" + id), {
        //         Name: name.value,
        //         Price: price.value,
        //         Info: info.value,
        //         Image: img.value,
        //         Hover: hoverImg.value,
        //         Id: id
        //     })
        //         .then(alert("Elave olundu"))
        //         .catch(err => alert(err))
        // }


        insertBtn.addEventListener('click', ()=>{
            let id = generate_uuidv4()
        function generate_uuidv4() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,
                function (c) {
                    var uuid = Math.random() * 16 | 0, v = c == 'x' ? uuid : (uuid & 0x3 | 0x8);
                    return uuid.toString(16); 
                });
        }
            set(ref(db, "element/" + id), {
                Name: name.value,
                Price: price.value,
                Image: img.value,
                Hover: hoverImg.value,
                Type: type.value,
                Id: id
                
            })
            .then( alert("ADDED"))
            .catch(err => alert(err))
        });
        
//         .then(res =>{
//             if(res.ok==true) {
//                 name.value = "",
//                 price.value = "",
//                 info.value = "",
//                 img.value = "",
//                 hoverImg.value = "",
//                 id = ""
//                 }
// })



//          function Edit() {
//              update(ref(db, "element/" + id), {
//                 Name: name.value,
//                 Price: price.value,
//                 Image: img.value,
//                 Hover: hoverImg.value,
//                 Type: type.value,
//                 Id: id
//             })
//                 .then(alert("Yenilendi"))
//                 .catch(err => alert(err))
//         }


//         function Delete() {
//             remove(ref(db, "element/", + id))
//                 .then(alert("Element silindi"))
//                 .catch(err => alert(err))
//         }

//         editBtn.addEventListener('click', Edit);
//         deleteBtn.addEventListener('click', Delete); 




        const namebest = document.getElementById("namebest");
        const pricebest = document.getElementById("pricebest");
        const imgbest = document.getElementById("imgbest");
        const typebest = document.getElementById("typebest");
        const addToBest = document.getElementById("addtobest")



        addToBest.addEventListener('click', ()=>{
            let id = generate_uuidv4()
        function generate_uuidv4() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,
                function (c) {
                    var uuid = Math.random() * 16 | 0, v = c == 'x' ? uuid : (uuid & 0x3 | 0x8);
                    return uuid.toString(16); 
                });
        }
            set(ref(db, "best-products/" + id), {
                Name: namebest.value,
                Price: pricebest.value,
                Image: imgbest.value,
                Type: typebest.value,
                Id: id
                
            })
            .then( alert("Added to best"))
            .catch(err => alert(err))
        });



    </script>

    
</body>

</html>